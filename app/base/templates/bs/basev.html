{% load static %}
{% load pagelinks %}
<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERP</title>

    <link href="{% static "css/fonts.css" %}" rel="stylesheet" />

    <link href="{% static "css/vendor/normalize.min.css" %}" rel="stylesheet" />
    <link href="{% static "lib/@blueprintjs/core/lib/css/blueprint.min.css" %}" rel="stylesheet" />
    <link href="{% static "lib/@blueprintjs/icons/lib/css/blueprint-icons.css" %}" rel="stylesheet" />


    <link href="{% static "css/basev.min.css" %}" rel="stylesheet" />
    <link href="{% static "css/grid.min.css" %}" rel="stylesheet" />
    <link href="{% static "css/sidebar.css" %}" rel="stylesheet">
    <link href="{% static "css/app2.css" %}" rel="stylesheet">

    {% block css %}
    {% endblock css %}

</head>

<body class="toggle-siddebar">

    <div class="sidebar">

        <div class="sidebar-home">
            <a href="/">
                {% comment %} <img style="width:100%;height: 100%" src="{% static 'img/logo.png' %}" alt="">
                {% endcomment %}
            </a>
        </div>

        <div class="sidebar-body">
            <ul class="nav nav-sidebar">
                <li class="nav-label">
                    <label>Navigation</label>
                </li>

                {% getpagelinks as lkinfo %}
                {% if lkinfo.LK_UserType == 'clg' %}

                {% for link in lkinfo.LK_MainLinks %}
                {% if link == 'staff' %}
                <li class="nav-item">
                    <a href="{% url 'sl_u:Staff.Index' lkinfo.TL_UserCollegeID %}"
                        class="nav-link {% block sn-staff %}{% endblock %}">
                        <span class="bp3-icon-large bp3-icon-people nav-list-icon"></span>
                        Staff
                    </a>
                </li>
                {% endif %}

                {% if link == 'section' %}
                <li class="nav-item">
                    <a href="{% url 'sl_u:Section.Index' lkinfo.TL_UserCollegeID %}"
                        class="nav-link {% block sn-sections %}{% endblock %}">
                        <span class="bp3-icon-large bp3-icon-group-objects nav-list-icon"></span>
                        Sections
                    </a>
                </li>
                {% endif %}
                {% endfor %}

                {% elif lkinfo.LK_UserType == 'su' %}

                {% for link in lkinfo.LK_MainLinks %}
                {% if link == 'manage' %}
                <li class="nav-item">
                    <a href="{% url 'sl_u:Manage.Index' %}" 
                        class="nav-link {% block sn-manage %}{% endblock %}">
                        <span class="bp3-icon-large bp3-icon-comparison nav-list-icon"></span>
                        Manage
                    </a>
                </li>
                {% endif %}
                {% endfor %}

                {% endif %}

            </ul>

            <hr>

            <ul class="nav nav-sidebar">
                <li class="nav-label">
                    <label>Reporting</label>
                </li>

            </ul>

        </div>

    </div>

    <div class="content">

        <div class="header">
            <div class="header-left">
                <a href="" class="burger-menu link-no-underline">
                    <span class="bp3-icon-large bp3-icon-menu"></span>
                </a>
            </div>

            <div class="header-right">
                <button class="bp3-button bp3-outlined bp3-intent-danger bp3-fill"
                    onclick="location.href='{% url 'sl_u:Auth.Logout' %}'">
                    <span class="bp3-button-text">Logout</span>
                    <span class="bp3-icon bp3-icon-log-out"></span>
                </button>
            </div>
        </div>


        <div class="content-title">
            <span class="title-text">
                {% block title %}{% endblock %}
            </span>


            {% if messages %}
            {% for message in messages %}

            <div class="app-alert bp3-callout
                        {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %} bp3-icon-error bp3-intent-danger
                        {% endif %}
                        {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %} bp3-icon-tick-circle bp3-intent-success
                        {% endif %}
                        {% if message.level == DEFAULT_MESSAGE_LEVELS.WARNING %} bp3-icon-warning-sign bp3-intent-warning
                        {% endif %}
                        " style="margin:10px 0;">

                <h4 class="bp3-heading">
                    {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %} Error {% endif %}
                    {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %} Success {% endif %}
                    {% if message.level == DEFAULT_MESSAGE_LEVELS.WARNING %} Warning {% endif %}
                </h4>
                {{ message }}
            </div>

            {% endfor %}
            {% endif %}

            <hr>

        </div>

        <div class="content-body">
            {% block content %}
            {% endblock content %}
        </div>

    </div>



    <script src="{% static "js/htmlapp.js" %}"></script>

    {% block js %}
    {% endblock js %}

</body>

</html>